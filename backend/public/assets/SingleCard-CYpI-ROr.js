import{i as g,a as D,b as E,c as C,r,u as M,d as P,j as e,e as u,f as L,g as I,h as A,k as J,y as N,l as _}from"./index-s5-8Nuyt.js";import{A as Q,a as U,b as q,c as z,d as G,e as K}from"./index-CzABK4CE.js";import{H as $}from"./index-BPptEMCf.js";const V=async(n,x,i=1)=>{try{const m=(await g.get("/cart",{params:{userId:x,productId:n.id}})).data;if(m.length>0){const c=m[0];await g.patch(`/cart/${c.id}`,{qty:c.qty+i})}else{const c={userId:x,productId:n.id,name:n.name,price:n.price,qty:i};await g.post("/cart",c)}console.log("Cart updated successfully!")}catch(s){console.error("Error adding to cart:",s)}},ae=()=>{const{id:n}=D(),x=E(),i=C(a=>a.productReducer.products),s=i?.find(a=>a.id==n),m=C(a=>a.userReducer.user),[c,b]=r.useState(s?.images?.[0]),[X,Y]=r.useState(!0),[o,f]=r.useState("description"),[d,y]=r.useState(1),[w,h]=r.useState(!1);r.useEffect(()=>{if(!s)return;const t=(JSON.parse(localStorage.getItem("wishlist"))||[]).some(l=>l.id===s.id);h(t)},[s]);const R=()=>{const a=JSON.parse(localStorage.getItem("wishlist"))||[];if(w){const t=a.filter(l=>l.id!==s.id);localStorage.setItem("wishlist",JSON.stringify(t)),h(!1),N.error("Removed from Wishlist")}else{const t=[...a,s];localStorage.setItem("wishlist",JSON.stringify(t)),h(!0),N.success("Added to Wishlist")}},T=()=>y(a=>a+1),O=()=>y(a=>Math.max(1,a-1)),W=M();if(r.useEffect(()=>{(!i||i.length===0)&&x(P())},[x,i]),r.useEffect(()=>{s&&b(s.thumbnail)},[s]),!s)return e.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading product..."});const F=a=>{b(s.images[a])},p=Math.floor(s.rating),v=s.rating-p>=.5,B=5-p-(v?1:0),S=[5,4,3,2,1].reduce((a,t)=>(a[t]=s.reviews.filter(l=>Math.floor(l.rating)===t).length,a),{}),k=Object.values(S).reduce((a,t)=>a+t,0),H=async()=>{N.success("Item added to cart!");const a={id:s.id,title:s.title,price:(s.price*87).toFixed(2),image:s.thumbnail,quantity:d};x(_(a)),m?.id&&await V(s,m.id,d)};return e.jsxs("div",{className:"mx-1 flex flex-col gap-0 text-black mt-5",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:gap-8 max-w-[1232px] mx-auto",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-0",children:[e.jsxs("div",{className:"relative flex-1 max-h-[500px] hover:scale-102 transition-all duration-300",children:[e.jsx("img",{className:"w-full h-[500px] object-contain bg-gray-100 rounded-lg",src:c||s.thumbnail,alt:s.title}),e.jsx(Q,{onClick:R,className:`text-shadow-lg cursor-pointer absolute top-3 right-2 w-10 h-10 bg-white rounded-full p-2 ${w===!0?"text-red-500":"text-blue-300"}`})]}),e.jsx("div",{className:"flex gap-2 flex-row justify-start my-3 mt-5",children:s?.images?.map((a,t)=>e.jsx("div",{className:`border-2 p-1 cursor-pointer rounded-lg hover:scale-108 transition-all duration-200 ${c===a?"border-black":"border-gray-300"}`,onClick:()=>F(t),children:e.jsx("img",{src:a,alt:`${s?.title} ${t+1}`,className:"w-14 h-14 object-contain"})},t))})]}),e.jsxs("div",{className:"flex-1 mb-[5rem]",children:[e.jsxs("div",{className:"flex flex-row justify-between px-3 mb-5",children:[e.jsx("div",{className:`bg-gray-100 px-3 text-sm font-sm rounded-xl flex justify-center items-center ${s.brand?"opacity-100":"opacity-0"}`,children:s.brand}),e.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[e.jsxs("div",{className:"flex flex-row gap-1 items-center text-base font-normal text-black",children:[e.jsx(u,{className:"text-yellow-500"}),s.rating]}),e.jsxs("div",{className:"text-gray-800 text-sm",children:["(",s.reviews.length," reviews)"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-3xl font-bold mb-[5%] px-1",children:s.title}),e.jsxs("h1",{className:"text-3xl font-semibold mb-[5%] px-1",children:["₹ ",(s.price*87).toFixed(2)]}),e.jsxs("h1",{className:"px-1 flex flex-row gap-2 text-green-600 items-center font-semibold text-base",children:[e.jsx(L,{className:"text-xs"})," In Stock (",s.stock," available)"]}),e.jsx("p",{className:"my-[5%] px-4 text-[0.9rem] font-normal opacity-80 bg-gray-100 rounded-lg md:p-3 md:leading-6",children:s.description}),e.jsxs("h1",{className:"flex flex-row gap-2 text-lg font-semibold items-center mb-[1.2rem]",children:["Quantity:",e.jsxs("div",{className:"flex items-center gap-2 border w-max rounded-lg border-gray-300 text-lg ",children:[e.jsx("button",{onClick:O,className:"px-3 py-1 border-r text-base cursor-pointer",children:"-"}),e.jsx("span",{className:"px-3 text-base",children:d}),e.jsx("button",{onClick:T,className:"px-3 py-1 border-l text-base cursor-pointer",children:"+"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{onClick:H,className:"flex-1 cursor-pointer bg-black text-white p-2 text-lg font-normal rounded-lg ",children:"Add to Cart"}),e.jsx("button",{onClick:()=>W(`/checkout/${s.id}`,{state:{quantity:d,isDirectBuy:!0}}),className:"flex-1 cursor-pointer text-lg p-2 rounded-lg font-semibold border border-gray-400",children:"Buy Now"})]}),e.jsx("hr",{className:"mt-4"}),e.jsxs("div",{className:"flex flex-col  gap-4 mt-5 sm:flex-row",children:[e.jsxs("div",{className:"flex-1 flex flex-row items-center gap-3",children:[e.jsx(U,{className:"font-normal text-xl"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Trusted Brand"}),e.jsxs("h1",{className:"text-xs font-normal opacity-60  mt-0.5",children:[s.brand,"is a trusted name in the industry."]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-row items-center gap-3 ",children:[e.jsx($,{className:"font-normal text-2xl"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Quality Product"}),e.jsx("h1",{className:"text-xs font-normal opacity-60 mt-0.5",children:"Carefully selected for performance and reliability"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full xl:w-[85%] mx-auto max-w-[1241px]",children:[e.jsxs("div",{className:"flex flex-row gap-6 items-center text-sm mb-2",children:[e.jsx("div",{className:`cursor-pointer font-normal ${o==="description"?"font-bold":""}`,onClick:()=>f("description"),children:"Description"}),e.jsx("div",{className:`cursor-pointer text-center font-normal ${o==="general"?"font-bold":""}`,onClick:()=>f("general"),children:"General Information"}),e.jsxs("div",{className:`cursor-pointer text-center font-normal ${o==="reviews"?"font-bold":""}`,onClick:()=>f("reviews"),children:["Reviews (",s.reviews.length,")"]})]}),e.jsx("hr",{}),e.jsx("div",{children:o==="description"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row gap-1 items-center text-xl my-[1.5rem] font-semibold",children:[e.jsx(q,{className:"text-2xl text-yellow-400"})," Product Description"]}),e.jsx("div",{className:"text-[1rem] font-normal opacity-70 mb-[1.5rem]",children:s.description}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"font-normal text-base mb-4",children:"Tags"}),e.jsx("h1",{className:"flex flex-row flex-wrap px-1 gap-4 mb-[2rem]",children:s.tags.map((a,t)=>e.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded-3xl text-sm sm:text-base md:text-sm font-normal",children:a},t))})]}),e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row ",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-2 mb-5",children:[e.jsxs("h1",{className:"flex flex-row gap-2 items-center text-lg font-normal",children:[e.jsx($,{className:" text-xl text-green-300"})," Product Details"]}),e.jsxs("h1",{className:"font-normal text-base px-1 sm:text-sm",children:["Brand: ",e.jsx("span",{className:"opacity-50",children:s.brand})]}),e.jsxs("h1",{className:"font-normal text-base px-1 sm:text-sm",children:["Category: ",e.jsx("span",{className:"opacity-50",children:s.category})]}),e.jsxs("h1",{className:"font-normal text-base px-1 sm:text-sm",children:["SKU: ",e.jsx("span",{className:"opacity-50",children:s.sku})]}),e.jsxs("h1",{className:"font-normal text-base px-1 sm:text-sm",children:["Availability: ",e.jsx("span",{className:"opacity-50",children:s.availabilityStatus})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[e.jsxs("h1",{className:"flex flex-row gap-2 items-center text-lg font-normal",children:[e.jsx(z,{className:" text-xl text-purple-500"})," Shipping & Return"]}),e.jsxs("h1",{className:"font-normal text-base px-1 sm:text-sm",children:["Shipping: ",e.jsx("span",{className:"opacity-50",children:s.shippingInformation})]}),e.jsxs("h1",{className:"font-normal text-base px-1 sm:text-sm",children:["Return Policy: ",e.jsx("span",{className:"opacity-50",children:s.returnPolicy})]}),e.jsxs("h1",{className:"font-normal text-base px-1 sm:text-sm",children:["Warranty: ",e.jsx("span",{className:"opacity-50",children:s.warrantyInformation})]})]})]})]})}),e.jsx("div",{children:o==="general"&&e.jsxs("div",{className:"flex flex-col gap-2 bg-gray-100  rounded-lg gap-8 sm:flex-row sm:mb-[2rem] md:mt-[1rem]",children:[e.jsxs("div",{className:" flex-1 flex flex-col gap-4 sm:justify-between sm:gap-6 sm:p-6",children:[e.jsxs("div",{className:"flex flex-row justify-between px-6 opcity-50",children:["Width ",e.jsx("span",{className:"font-normal",children:s.dimensions.width})]}),e.jsxs("div",{className:"flex flex-row justify-between px-6 opcity-50",children:["Height ",e.jsx("span",{className:"font-normal",children:s.dimensions.height})]}),e.jsxs("div",{className:"flex flex-row justify-between px-6 opcity-50",children:["Depth ",e.jsx("span",{className:"font-normal",children:s.dimensions.depth})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:justify-between sm:p-6",children:[e.jsxs("div",{className:"flex flex-row justify-between px-6 opcity-50",children:["Barcode ",e.jsx("span",{className:"font-normal text-black",children:s.meta.barcode})]}),e.jsxs("div",{className:"flex flex-row justify-between px-6 opcity-50",children:["Weight ",e.jsxs("span",{className:"font-normal",children:[s.weight/1e3," kg"]})]}),e.jsxs("div",{className:"flex flex-row justify-between px-6 opcity-50",children:["Warranty ",e.jsx("span",{className:"font-normal",children:s.warrantyInformation})]})]})]})}),e.jsx("div",{children:o==="reviews"&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-row justify-between gap-6.5 items-center",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Customer Reviews"}),e.jsx("h1",{className:"p-1.5 text-sm border border-black whitespace-nowrap rounded-lg font-normal",children:"Write a Review"})]}),e.jsxs("div",{className:"flex flex-col gap-2 bg-gray-50 p-1 rounded-lg md:flex-row md:my-[1.5rem] lg:w-[90%] lg:mx-auto",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-2 text-center mt-[2.5rem]",children:[e.jsx("h1",{className:"font-bold text-3xl",children:s.rating}),e.jsxs("div",{className:"flex items-center gap-1 justify-center text-lg",children:[[...Array(p)].map((a,t)=>e.jsx(u,{className:"text-yellow-500"},`full-${t}`)),v&&e.jsx(I,{className:"text-yellow-500"}),[...Array(B)].map((a,t)=>e.jsx(A,{className:"text-yellow-500"},`empty-${t}`))]}),e.jsxs("h1",{className:"text-sm font-normal opacity-60",children:["Based on ",s.reviews.length," reviews"]})]}),e.jsx("div",{className:"mt-4 space-y-1 px-8 sm:px-10 flex-1",children:[5,4,3,2,1].map(a=>{const t=S[a]||0,l=k?t/k*100:0;return e.jsxs("div",{className:"flex items-center text-sm font-semibold",children:[e.jsxs("span",{className:"w-6",children:[a,e.jsx("span",{className:"ml-1 text-yellow-500",children:"★"})]}),e.jsx("div",{className:"flex-1 h-2 bg-gray-300 rounded mx-2",children:e.jsx("div",{className:"h-2 bg-yellow-500 rounded",style:{width:`${l}%`}})}),e.jsx("span",{className:"w-4 text-right",children:t})]},a)})})]}),s.reviews&&s.reviews.length>0&&e.jsx("div",{className:"flex flex-col gap-5 mt-5 sm:px-5",children:s.reviews.map((a,t)=>e.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[e.jsx(G,{size:34,className:"bg-blue-500 rounded-full p-0.5"}),e.jsxs("div",{className:"flex flex-col gap-2 mb-2",children:[e.jsxs("div",{className:"flex gap-1 items-center md:gap-3",children:[e.jsx("h1",{className:"font-medium text-base",children:a.reviewerName}),e.jsxs("div",{className:"flex mr-4",children:[[...Array(Math.floor(a.rating))].map((l,j)=>e.jsx(u,{className:"text-yellow-500"},`review-full-${j}`)),a.rating%1>=.5&&e.jsx(I,{className:"text-yellow-500"}),[...Array(5-Math.ceil(a.rating))].map((l,j)=>e.jsx(A,{className:"text-yellow-500"},`review-empty-${j}`))]}),e.jsx("h1",{className:"whitespace-nowrap text-sm",children:a.date.split("T")[0]})]}),e.jsx("h1",{className:"font-normal ",children:a.comment}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsxs("h1",{className:"flex flex-row items-center gap-1 opacity-50",children:[e.jsx(J,{})," Helpful()"]}),e.jsxs("h1",{className:"flex flex-row items-center gap-1 opacity-50",children:[e.jsx(K,{})," Reply"]})]})]})]},t))})]})})]})]})};export{ae as default};
