import{j as e,a as C,m as S,c as k,r as c,b as L,d as B,N as j,w as F}from"./index-s5-8Nuyt.js";import{C as R}from"./Card-9oiDKCRc.js";import{m as D}from"./proxy-D-UYOqv3.js";function H(){return e.jsxs("div",{className:"flex flex-col text-black w-screen -mx-[18px]  items-center justify-center h-screen ",children:[e.jsx("p",{className:"text-3xl mb-4 font-semibold",children:"Loading..."}),e.jsx("p",{className:"text-sm sm:text-lg opacity-60 mb-4 font-medium",children:"Please wait while we fetch the best deals for you."}),e.jsx(D.div,{className:"w-12 h-12 border-4 border-blue-500 border-dashed rounded-full",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}})]})}const I={beauty:["beauty","fragrances"],fashion:["mens-shirts","womens-dresses","womens-shoes","mens-shoes","womens-watches","mens-watches","sunglasses","womens-jewellery","womens-bags"],electronics:["smartphones","laptops","tablets"],sports:["sports-accessories"],groceries:["groceries"],homeappli:["home-decoration","furniture","kitchen-accessories"]},A={beauty:"Glow up with premium skincare, cosmetics, and fragrances from top beauty brands.",fashion:"Stay in style with the latest trends in clothing, shoes, watches, and fashion accessories for all.",electronics:"Discover the latest in smartphones, laptops, tablets, and must-have accessories for your digital lifestyle.",sports:"Gear up for action with quality sports equipment, activewear, and fitness accessories.",groceries:"Shop everyday essentials and pantry favorites with fresh groceries delivered to your doorstep.",homeappli:"Upgrade your living space with modern furniture, stylish home decor, and essential kitchenware."},E={homeappli:"Home & Kitchen"},K=()=>{const{category:a}=C(),w=S(),h=new URLSearchParams(w.search).get("search")?.toLowerCase()||"",{products:N=[],loading:b}=k(s=>s.productReducer),[r,v]=c.useState(""),[i,p]=c.useState(""),[n,u]=c.useState(""),[d,f]=c.useState([]),P=s=>{f(t=>t.includes(s)?t.filter(l=>l!==s):[...t,s])},g=L();c.useEffect(()=>{g(B())},[g,a]);const y=N.filter(s=>{if(!a)return!0;const t=s?.category?.toLowerCase?.()||"";return(I[a]||[a]).map(o=>o?.toLowerCase?.()||"").includes(t)}).filter(s=>h?(s?.title?.toLowerCase?.()||"").includes(h):!0),m=[...new Set(y.map(s=>s?.brand).filter(Boolean))],x=y.filter(s=>{const t=i!==""?parseFloat(i):0,l=n!==""?parseFloat(n):1/0,o=(s?.price||0)*87;return o>=t&&o<=l}).filter(s=>d.length===0||d.includes(s?.brand)).sort((s,t)=>r==="price-asc"?(s?.price||0)-(t?.price||0):r==="price-desc"?(t?.price||0)-(s?.price||0):r==="rating"?(t?.rating||0)-(s?.rating||0):r==="name"?(s?.title||"").localeCompare(t?.title||""):0);return b?e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(j,{}),e.jsx("div",{className:"flex-1 flex justify-center items-center",children:e.jsx(H,{})})]}):e.jsxs("div",{className:"space-y-8 text-black md:max-w-[1536px] md:mx-auto",children:[e.jsx(j,{}),e.jsxs("section",{className:"p-4 flex flex-col gap-1 justify-center items-center",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-[2.4rem] font-semibold mb-2",children:a?E[a]||(a?.charAt?.(0)?.toUpperCase?.()||"")+(a?.slice?.(1)||""):"All Products"}),e.jsx("p",{className:"text-lg font-normal opacity-60 text-center mb-2",children:A[a]||""}),e.jsxs("p",{className:"font-normal text-sm opacity-60 mb-[3%]",children:[x.length," Products Found"]}),e.jsxs("div",{className:"flex flex-col w-full md:flex-row md:items-center gap-1 md:justify-end md:gap-2",children:[e.jsxs("label",{className:"text-base font-normal opacity-60 flex flex-row gap-1 items-center",children:[e.jsx(F,{}),"Sort By:"]}),e.jsxs("select",{className:"bg-gray-100 p-1 rounded-lg font-normal sm:py-2 md:w-[15%] sm:px-2 md:text-md",value:r,onChange:s=>v(s.target.value),children:[e.jsx("option",{value:"",children:"Name: A-Z"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"}),e.jsx("option",{value:"rating",children:"Highly Rated"}),e.jsx("option",{value:"name",children:"Name"})]})]})]}),e.jsxs("section",{className:"flex flex-row gap-10 justify-center",children:[e.jsxs("div",{className:`hidden lg:flex flex-col gap-6 px-6 py-4 rounded w-[43%] max-w-[368px] shadow-md bg-white
          sticky top-[8rem]
          ${m.length>0?"max-h-[420px]":"max-h-[260px]"}`,children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),m.length>0&&e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h3",{className:"text-md font-medium opacity-80",children:"Brand"}),e.jsx("div",{className:"flex flex-col gap-2 max-h-[130px] overflow-y-auto",children:m.map(s=>e.jsxs("label",{className:"flex items-center text-base font-normal gap-2",children:[e.jsx("input",{type:"checkbox",checked:d.includes(s),onChange:()=>P(s)}),s]},s))})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h3",{className:"text-md font-medium opacity-80",children:"Price Range"}),e.jsxs("div",{className:"flex flex-row gap-1 w-full",children:[e.jsx("input",{type:"number",placeholder:"0",value:i,onChange:s=>p(s.target.value),className:"border border-gray-300 p-1 rounded-lg w-full"}),e.jsx("input",{type:"number",placeholder:"5000",value:n,onChange:s=>u(s.target.value),className:"border border-gray-300 p-1 rounded-lg w-full"})]})]}),e.jsx("button",{onClick:()=>{p(""),u(""),f([])},className:"bg-gray-100 p-2 rounded-xl font-medium cursor-pointer mt-2 hover:bg-gray-200",children:"Reset Filters"})]}),e.jsx("div",{children:x.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(s=>e.jsx(R,{product:s},s?.id))}):e.jsxs("div",{className:"flex flex-col gap-2 text-black justify-center max-w-[1076.8px] w-screen items-center h-screen mx-auto",children:[e.jsx("div",{children:e.jsx("img",{src:"/search.png",alt:"img"})}),e.jsxs("div",{className:"flex flex-col gap-2 justify-center items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"No products found"}),e.jsx("h1",{className:"text-lg font-normal opacity-70 px-[2.5rem] text-center",children:"Try adjusting your filters or search terms"})]})]})})]})]})};export{K as default};
